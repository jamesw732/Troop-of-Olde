\documentclass{article}
\usepackage{graphicx}
\usepackage{enumerate}
\usepackage{hyperref}

\title{Troop of Olde Documentation}
\author{James Westbrook}

\begin{document}
\maketitle

\tableofcontents

\pagebreak

\section{Philosophy}
This game will be an online multiplayer open world dungeon crawler with gameplay inspired by old-style MMO's
like Everquest. Essentially, it will emulate a similar gameplay style of these older MMO's while focusing in
on the cooperative dungeon crawling aspect. This section is devoted to explaining choices I make to create the
best possible game.
\subsection{Problems in Existing Games}
A law of humans is that it is much easier to identify problems than it is to create effective solutions.
So while it can be valuable to look at existing games and spot what contributes negatively to their fun,
this will not be sufficient. An effective strategy will be to account for all positive/negative contributors
to a fun dungeon crawling experience, and come up with a gameplay system from there. This subsection
will account for the negatives.
\begin{itemize}
    \item Buffing is a pain in the ass. It does not make any sense to me that you should cast a spell that
        gives you a buff that lasts 30 minutes, only to have to cast it again before long. Furthermore, I think
        there is very little need for stat stick buffs. 
    \item So many items, not enough inventory. Having to go back to the bank/etc to restock doesn't really
        make for the best experience.
    \item Buying spells is boring, it's more fun to earn them. 
    \item Having to run around the world for quests is so annoying.
    \item Organizing spellbook is annoying.
    \item Class-based systems mean you have to create multiple characters to redo the same content over and over
        again if you want to play all the classes. 
    \item Dry combat, particularly in older style games. 
    \item Complicated combat system, like RS. I think most of what makes RS so complicated is that there
        are so many different pieces playing into the tick system. Auto attacks, abilities, spells, item
        special attacks, weapon/armor switching, prayers, food. Another thing is just the APM requirement,
        which is really high.
    \item Boss mechanics can be ignored because damage is so high.
    \item Interfaces are too complicated/overwhelming/inconvenient to use. 
    \item Not enough/misleading information available to player. 
    \item Factions can restrict what kinds of rewards you have access to.
    \item Streamlined way of performing combat actions? Current approach is to just have a billion action bars
        and keybinds, I hate this though.
\end{itemize}
\subsection{What makes Existing Games Fun?}
\begin{itemize}
    \item Consistent gear upgrades.
    \item The game can be played without spending money.
    \item Weapons have meaningful differences and your choice of weapons amounts to something other than
        just ``which one has a higher damage rating''.
\end{itemize}
\subsection{Ideas}
This is a temporary section that contains all the ideas for implementing the two previous sections.
As the rest of this document is built up (and the game is developed), this section should get smaller.
\subsubsection{Generic}
\begin{itemize}
    \item  Melee weapons have the following types/differences:
        \begin{itemize}
            \item Piercing weapons (spears, daggers) deal damage through armor,
            \item Impact weapons (maces, hammers) deal extra damage to armor,
            \item Slashing weapons (swords, axes) deal extra damage to armorless enemies.
        \end{itemize}
    \item One idea for monetization is to make the game free to play, and free to host a server as long as
        you set it up yourself, but if you want to host your own server and don't want to do it yourself
        then I offer a service that costs money.
    \item Earn all spells/abilities from killing enemies and doing quests, not from buying them.
    \item Quests are restricted to zones.
    \item Spellbooks are fixed, but there is a small interface for your castable spells.
    \item Combat can be made interesting by simply having lots of ways
        to interact with enemies, especially ways besides just dealing damage. Also by having
        enemies with multiple ways of interacting with the player, again especially besides just damage.
    \item A unified combat system can make it much simpler. For example, only auto attacks and powers.
    \item The problem of information being unclear is best solved by making the
        game as simple as possible. Stats like Body in MoM, for example, is something I want to avoid.
    \item To add to the previous point, stats like body help create variation between the classes. I
        believe the variation created by this is very artificial, and there can be enough variation if
        the only differences are with the available powers as long as the player has a lot of choices
        (for example, in which gear they use).
    \item Make all rewards from faction-specific quests obtainable through other means.
    \item No crafting, as it distracts from the dungeon crawling and the items just create a huge inventory mess.
\end{itemize}
\subsubsection{Class Systems}
There are several ideas for how to implement a class system, each with their drawbacks.
\begin{enumerate}
    \item The player has a lexicon that can store two pages of powers for the player to use.
        Each level range/zone has a ``basic'' and ``advanced'' page for each class (which there
        ~8 of) which contains these powers,
        obtained by killing enemies of your class in the zone. The pages essentially unlock half of a class
        for the player, and players are allowed to mix classes (only the basic pages, and up to some
        restrictions on combinations, for flavor). Mixing classes may fundamentally change the
        class, for example ranger + wizard would get elemental arrows, whereas the ranger probably wouldn't
        get those. You are also not restricted to a class you choose, your combination of pages defines
        your class completely and you don't have to make any upfront decisions about it.\\\ \\
        This idea solves the problem of players not liking the class they choose. I also think it
        provides a take on multiclassing that is much more feasible than Minions of Mirth (in terms
        of balancing and flavor). Another good thing about it is that it creates a backdoor way to
        create classes after release, if that's something I want to do.\\
        However, I don't know if it would actually be fun to play with. It
        seems hard to make the progression work because you're stuck on the previous zone's pages
        until you get the right drop, and then you have a huge power spike? Doesn't seem quite right.
        It might also not make for the best gameplay experience to only care about fighting enemies
        of your class. As of right now, the only reasons I can think of for killing an enemy that's not
        your class are: it's your teammate's class, or you need to kill it to get through the dungeon. Also,
        how does enemy multiclassing work?
    \item The player has a lexicon that contains a page for each level range/zone. Enemies of your class
        will have access to a subset of the powers on the page of the corresponding zone, and will drop some
        or all of the pages which unlock those powers. \\\ \\
        I think as far as progression goes, this is really good and I can imagine myself enjoying this
        progression system. This does introduce some problems that the first idea fixes, namely players
        having reduced agency in their class selections. It also makes it tougher to add classes over
        time since I'd need to add content to every existing zone.
\end{enumerate}
One thing I'm realizing is that in a class-based game (or even a non-class-based game, honestly), the
quality of the progression system scales with how well the content is tailored to your specific class.
The main implication of this is that having lots of classes can impede individual progression.
I see a few ways to account for this.\\
One is to just not have very many classes, so that this isn't
really a problem from the start. If there are only, say, four classes, then having to deal with
irrelevant enemies isn't as big of a problem because the relevant ones will be more common.\\
Twreeo is to separate content by class, for example class-specific dungeons. This way, players can
very well curate the content they consume, but with the downside of cooperative dungeon crawling
being less fun for everyone.\\
Three is to manually adjust spawn rates based on classes of players logged in.

\section{Content}
\subsection{Characters}
\subsubsection{Ratings}
These stats are essentially resources that change over the course of combat very frequently.
\begin{itemize}
    \item Health: If it hits zero, you die. You take damage from enemy attacks and effects (and probably
        your own eventually!)
    \item Energy: Required to cast spells and use abilities.
    \item Armor: Provides a static reduction to damage. Some effects will be able to lower this number,
        requiring your armor to be repaired. Armor repair
        will be a pretty central balancing point in the game. Some classes will be able to repair armor.
\end{itemize}

\subsubsection{Innate Stats}
These are stats which influence the character at a fundamental level, and only change as a result of things
like effects and items. Right now, these are more of a shell of what they will actually do in the final
product. For example, strength o increases melee damage right now but eventually, it might also increase stamina.
\begin{itemize}
    \item Strength: Increases melee damage
    \item Reflexes: Increases chance of blocking attacks
    \item Dexterity: Increases chance of landing attacks
    \item Intelligence: Increases mana
    \item Hardiness: Reduces damage taken by non-physical sources, such as fire, cold, and poison effects.
\end{itemize}


\subsubsection{Modifiers}
These are (for the most part?) invisible stats which modify relevant numbers, such as damage and run speed.
\begin{itemize}
    \item Haste: Increases character's melee attack speed
    \item Speed: Increases character's movement speed
    \item Casting haste: Increases character's casting speed
    \item Cast Dmg: Increases character's damage with spells
    \item Crit Rate: Increases character's chance to inflict a critical
    \item Crit Dmg: Increases character's damage of critical hits
    \item Health Regen: Increases character's health regeneration. Characters do not regenerate in combat
    (what does "in combat" mean?")
    \item Mana Regen: Increases character's mana regeneration.
    \item Stamina Regen: Increases character's stamina regeneration.
\end{itemize}

\subsubsection{Powers}
Powers are things that trigger effects. These are the 

\subsubsection{Effects}
These are things that influence a character's ratings and stats for a finite amount of time.
They can either be instant or persistent, and are granted as the result of casting a spell, using an ability,
or proccing a weapon.

Instant effects will affect ratings.
Persistent effects will affect innate stats, modifiers, and max ratings.

A robust implementation will be very important for persistent effects. I think the way
to do it is instantiating
an Effect object (which just stores the data about which stats it's affecting and by how much) which is read
from the disk (or just copy if all effects are loaded into memory, which might be reasonable). Apply all
modifiers to the effect, apply stat changes, add the effect to the character, and then when it leaves the
character, undo all the changes. I think it will be important to store all stats as an additive change in the
Effect object, otherwise undoing will be impossible.


\subsubsection{Classes}
What's more or less certain right now is that there will be playable classes. These will probably be:
\begin{itemize}
    \item Warrior
    \item Ranger
    \item Druid
    \item Cleric
    \item Wizard
    \item Necromancer
    \item Coercer
\end{itemize}
You can choose two specializations, the same one up to twice. Each specialization you choose unlocks
"half" of the specialization.

You may not pair two different magic-wielding specializations (the ones besides Warrior and Ranger), and pairing
a non-magic with magic may fundamentally change some of the powers you have access to. The following
cross-specialization combinations are allowed:
Warrior with:\\
Ranger, Cleric, Wizard, Necromancer\\
Ranger with:\\
Warrior, Druid, Wizard

Class selection goes hand-in-hand with the lexicon.

\subsubsection{Lexicon}
A character's lexicon is where (class-specific) powers are stored.
Spells and abilities are unlocked by reading the respective lexicon page dropped by mobs. Each level
range will contain two pages - a basic one and an advanced one. A character cannot read the advanced
one unless they already have the basic one. Characters may also read the basic page of two different
specializations if they want to multiclass.\\
Lexicon pages can always be replaced by new ones that characters obtain, but the old page will
be destroyed. This way, players aren't locked into their class if they don't want to be, but they
will have to hunt for pages again if they want to switch.\\
Basic pages will be dropped by any enemy with the corresponding class.\\
Advanced pages will only be dropped by ``elite'' enemies of the corresponding class.

\subsubsection{Skills}
These are numbers that track proficiency with certain ``activities''.
\begin{itemize}
    \item Enchantment: Measures ability to cast beneficial spells, ie buffs and heals.
    \item Curse: Measures ability to cast harmful spells, ie debuffs and damage spells.
    \item Summoning: Measures ability to summon pets.
    \item Necromancy?: Measures ability to perform necromantic rituals, such as reanimating corpses.
        Far in the future.
    \item 1h Melee: Measures ability to melee with 1-handed weapons
    \item 2h Melee: Measures ability to melee with 2-handed weapons
    \item Shields: Measures chance of blocking attacks with shields
    \item Parry: Measures chance of blocking attacks with a weapon
    \item Dodge: Measures chance of dodging attacks
    \item Flurry: Measures chance of performing a chain of attacks
    \item Inflict Critical: Measures chance of performing a critical hit, and increases damage of critical hits
\end{itemize}

\subsubsection{Equipment}
These are items that you can equip. The slots will be:
\begin{itemize}
    \item Armor
    \item Head
    \item Ring
    \item Mainhand
    \item Shield/Offhand
\end{itemize}
There are very few slots because having so many slots makes individual upgrades feel worse, and in
my opinion introduces a lot of unnecessary complication to the game. There will be no class-specific
equipment, but there should be lots of unique effects offered by equipment.


\subsection{Class Content?}
This was written before I had my current ideas about class specializations, and some of the classes
here are currently wrong. Paladin should be Cleric, and Shaman won't exist. I also don't make
the distinction between the basic/advanced pages yet.

Spells and abilities will be overwritten as pages are unlocked.
Each new page unlocks some new spells/abilities.
Classes either get two ability pages, two spell pages, or one ability page + one spell page at each tier.
Probably aim for 15 effect lines, spread across spells and abilities depending on the class.
Each class should have some cool/interesting effect(s), and should be able to solo
Spells/abilities should, like everything else in the game (ideally), feel important and impactful.

Class Overviews:
Coercer: Uses magic to interact with enemies and allies
Druid: Highly modal healer/caster/meleer - can do all of these, but not more than one at a time
Necromancer: Summons the dead and uses DoT spells
Paladin: Versatile tank/healer who possesses the most powerful and varied healing spells.
Ranger: Ranged damage-dealer who pairs magic with archery, and can melee in a pinch
Shaman: All-around support; buffs, debuffs, heals, as well as a pet
Warrior: De facto meleer, doubles as a tank and dps whenever needed.
Wizard: De facto caster, primarily dps



\subsubsection{Coercer}
Spell Lines:
Page 1:
\begin{itemize}
    \item Magic Missile - Huge magic damage
    \item Charm - Turn an enemy friendly temporarily (not a pet, clears aggro and increased faction towards players)
    \item Mana Leak - Depletes target's mana while restoring your own/allies'
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Bolster spell shield - Increases ally's max spell shield
    \item Unleash spell shield - Consume's own spell shield to deal a massive blow to enemy
    \item Illusion - Take on the form of your target. Provides bonuses based on race.
    \item Resist debuff - Reduces all enemy resists.
    
\end{itemize}

Page 3:
\begin{itemize}
    \item Restore spell shield - Restores some of target's spell shield
    \item Dispel - (temporarily) Deactivates beneficial effects from your target
    \item Divert Attention - For each enemy targeting you, make them target your ally.
    
\end{itemize}

Page 4:
\begin{itemize}
    \item Wormhole - Teleport your target to you.
    \item Levitate - Make your target fly in the air, preventing them from moving.
    
\end{itemize}

Class-Specific Skills:
Curse\\
Enchantment\\
Transformation\\


\subsubsection{Druid}
Spell Lines:
Page 1:
\begin{itemize}
    \item Swarm - Fast, small hitting poison DoT spell 
    \item Nature's Healing - medium heal over time
    \item Bear Form - overwrites stats with high tanking ability and new melee combat skills, cannot cast spells
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Rot - disease DoT
    \item Wolf Form - overwrites stats with high melee damage ability, cannot cast spells
    \item Charm Animal - Turn an enemy animal friendly temporarily (not a pet, clears aggro and increased faction towards players)
    
\end{itemize}

Page 3:
\begin{itemize}
    \item Forest Fire - AoE fire DoT
    \item Thorn Shield - Reflects a large amount of damage back to attacker (short duration, maybe 20 seconds base?)
    \item Cobra Form - Physically weak form that applies a poison DoT on each successful attack
    
\end{itemize}

Page 4:
\begin{itemize}
    \item Send to seed - Reduce target's strength and haste
\end{itemize}

Undetermined:
\begin{itemize}
    \item Monkey Form - improved spell casting, but melee damage reduced drastically
    \item Gorilla Form - (overwrites Monkey Form) modestly improved spell casting, melee damage, and tanking
    
\end{itemize}

Ability Lines:
Page 1:
\begin{itemize}
    \item Overpower (Requires Bear Form) - Knock over your target, stunning them
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Howl (Requires Wolf Form) - Inspire the power of the pack, temporarily improving your team's strength and dexterity
\end{itemize}

Page 3:
\begin{itemize}
    \item Spit Venom (Requires Cobra Form) - Spit venom in the eyes of your target, drastically reducing their
        dexterity and reflexes
\end{itemize}



Class-Specific Skills:
Curse\\
Enchantment\\
Maul (Skill used when meleeing in wolf/bear form)\\
Transformation (Enables casting of transformation spells)\\


\subsubsection{Necromancer}
Spell Lines:
Page 1:
\begin{itemize}
    \item Leeches - DoT that transfers health to player
    \item Disease DoT - DoT that deals moderate damage and weakens target
    \item Reanimate - summon a humanoid corpse as a skeleton pet for some time
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Blood Offering - Sacrifice some health to restore mana to allies
    \item Sinister Speed/Dancing with the Dead - Increases haste of your target/allies
    \item Poison DoT - DoT that deals a lot of damage slowly
    
\end{itemize}

Page 3:
\begin{itemize}
    \item Bloat - DoT that deals mild damage over its duration, but explodes into a big AoE as it ends or as
        target dies.
    \item Plague - Disease DoT that deals mild damage but spreads to other enemies
    \item Weaken Immunity - Debuff that lowers target's disease and poison resists
    
\end{itemize}

Page 4:
\begin{itemize}
    \item Doomsday - Channeled spell that does tremendous damage to everything around you, including yourself
\end{itemize}

Class-Specific Skills:
Curse\\
Enchantment\\
Necromancy (Enables casting of necromancy spells)\\


\subsubsection{Paladin}
Spell Lines:
Page 1:
\begin{itemize}
    \item Quick heal
    \item Divine Protection - Buff which grants allies additional armor and spell shield
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Divine Repair - Restores an ally's armor
    \item Long heal
    \item Heal over time
    
\end{itemize}

Page 3:
\begin{itemize}
    \item Resurrect
    \item Purify - Removes harmful effects from an ally
\end{itemize}

Ability Lines:
Page 1:
\begin{itemize}
    \item Kick - Deal some damage
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Shield Bash -  Deal damage and stun target for a short amount of time (requires shield)
    
\end{itemize}

Page 3:
\begin{itemize}
    \item Holy Smash - Requires a blunt weapon, damages armor
\end{itemize}

Class-Specific Skills:
Enchantment (Enables casting of beneficial spells)\\
Shields (Enables use of shields to block attacks)\\


\subsubsection{Ranger}
Spell Lines:
(Magic arrows - Imbue your next archery attack with an elemental power)
Page 1:
\begin{itemize}
    \item Fire Arrows - Small but rapid damage over time
    \item Poison Arrows - Large but slow damage over time
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Ice Arrows - Slow movement and attack speed for a moderate amount of time
    \item Ranger's Retreat - Buff which increases movement speed
    
\end{itemize}

Page 3:
\begin{itemize}
    \item Ranger's Dexterity - Buff which increases dexterity
    \item Electric Arrows - Stun for a short amount of time
    
\end{itemize}

Page 4:
\begin{itemize}
    \item Explosive Arrows - Moderate AoE damage
\end{itemize}

Ability Lines:
Page 1:
\begin{itemize}
    \item Headshot - Fire a shot that has low accuracy but is guaranteed to critical if it hits
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Volley of Arrows - Fires several arrows into the air, landing at random spots around target.
        Each arrow deals damage independently, and can hit multiple targets stacked on top of each
        other. Can also trigger arrow effects.
    
\end{itemize}

Page 3:
\begin{itemize}
    \item Rapid Fire - Increase rate of fire greatly for a short period of time
    
\end{itemize}

Class-Specific Skills:
Archery (Enables use of bows)\\
Enchantment\\


\subsubsection{Shaman}
Page 1:
\begin{itemize}
    \item Strength - Buff which increases strength
    \item Quake - Spell which deals small physical damage, slows movement, and damages opponent's armor
    \item Pet
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Spiritual Healing - Quick heal
    \item Bolster - Buff which increases body and health
    \item Immunity - Buff which increases poison and disease resists
    \item Health regen buff
    \item Stamina restoration spell
    
\end{itemize}

Page 3:
\begin{itemize}
    \item Cure - Removes disease effects from allies
    \item Torpidity - Debuff which slows target
    \item Stamina regen buff
    
\end{itemize}

Page 4:
\begin{itemize}
    \item Reincarnate - Allow an ally to return to life as an animal
    
\end{itemize}


Class-Specific Skills:
Curse
Enchantment


\subsubsection{Warrior}
Ability Lines:
Page 1:
\begin{itemize}
    \item Kick - Deal some damage
    \item Shield Bash -  Deal damage and stun target for a short amount of time (requires shield)
    \item Defensive Stance - Slow your attacks, but increase reflexes significantly
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Offensive Stance - Increase attack speed and strength, but reduce reflexes significantly
    \item Critical Aim - Perform an attack with low accuracy but if it lands, is guaranteed to critical
    \item Repair - Restores some of an ally's armor
    
\end{itemize}

Page 3:
\begin{itemize}
    \item Head Butt - Deal some damage and prevent target from casting for a moderate amount of time
    \item Induce Rage - Perform an attack that scales in damage with the amount of health missing
    \item Pommel Throw - End him rightly by throwing your pommel at your target, stunning him at range and doing a small amount of damage
    
\end{itemize}

Class-Specific Skills:
Shields\\
Dual Wield (Enables use of two 1h weapons at a time)\\
2h Melee (Enables use of 2h weapons)\\


\subsubsection{Wizard}
Spell Lines:
Page 1:
\begin{itemize}
    \item Bonds - Prevent movement, incrementally checked against target's strength level to determine if breaks
    \item Magic Missile - Huge magic damage
    \item Fire Bolt - Small but rapid damage over time
    \item Focus - Improve mana regen of allies
    
\end{itemize}

Page 2:
\begin{itemize}
    \item Ice Bolt - Moderate damage, slow movement and attack speed for a moderate amount of time
    \item Fiery Explosion - (AoE) Small but rapid damage over time
    \item Elemental resist buff - increases allies' fire, electric, cold resists
    
\end{itemize}

Page 3:
\begin{itemize}
    \item Electric Bolt - Moderate damage, stun for a short amount of time
    \item Bonds (AoE) - Prevent movement, incrementally checked against target's strength level to
        determine if breaks
    \item Icy Explosion - (AoE) Moderate damage, slows attack speed for a moderate amount of time
    \item Elemental resist debuff - reduces enemy magic, fire, electric, cold resists
    
\end{itemize}

Page 4:
\begin{itemize}
    \item Electric Explosion - (AoE) Moderate damage, stun for a short amount of time
    
\end{itemize}

Class-Specific Skills:
Curse\\
Enchantment\\


\section{Code Infrastructure}
\subsection{Servers}
\subsubsection{Game Server}

\section{Ursina Usage}
\subsection{Common Bugs}
\begin{itemize}
    \item ``Remote attempted to call a RPC that does not exist (maybe a name typo in the source code?)''\\
        This essentially just means that an unregistered RPC was called. Unfortunately it does not give
        the name of the procedure. Usually this is fixed by importing the relevant file that contains the
        RPC definition, fixing a typo, or implementing a non-existing RPC.
\end{itemize}
\end{document}
